@using NGX.Web.Areas.RefDataManageDomain.Models;
@using guestACCESS.WebCommon;
@using guestACCESS.Kernel.TripManagement;
@using SharedLib;
@{
    var currentUser = SharedLib.Authenticator.MemberTicketManager.Instance.CurrentUserTicket;
    var expiryDate = guestACCESS.Kernel.Subscriptions.DMCSubscription.GetExpiryDate(currentUser.LoginDMC) ?? DateTime.Now.AddDays(-1);
    //var scheduleData = HttpContext.Current.Session[TRANSPORT_CACHE_KEY];
    var scheduleAData = TransportSession.GetSession(TransportSession.ATSESSION_KEY);
    var scheduleDData = TransportSession.GetSession(TransportSession.DTSESSION_KEY);
    var deptScheduled = scheduleDData as guestACCESS.Kernel.TripManagement.DepartureEventDetail;
    var arrScheduled = scheduleAData as guestACCESS.Kernel.TripManagement.ArrivalEventDetail;
    DateTime? ScheduledTransportDate;
    if (deptScheduled != null && arrScheduled != null)
    {
        var getdate = (deptScheduled.ScheduledTransportDate > arrScheduled.ScheduledTransportDate ? deptScheduled.ScheduledTransportDate : arrScheduled.ScheduledTransportDate);
        ScheduledTransportDate = getdate;
    }
    else
    {
        ScheduledTransportDate = arrScheduled != null ? arrScheduled.ScheduledTransportDate : deptScheduled != null ? deptScheduled.ScheduledTransportDate : null;
    }
    if (ScheduledTransportDate < DateTime.Now)
    {
        TransportSession.RemoveAllSession();
    }
    var dmcoption = new guestACCESS.Kernel.DMCManagement.DMCOption(currentUser.LoginDMC);
    var scheduleJsonData = Html.Raw(Json.Encode(ScheduledTransportDate));


}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="~/Content/assets/images/apple-icon.png">
    <link rel="icon" type="image/png" href="~/Content/assets/DIY/images/favicon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>
        @ViewBag.Title
    </title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
    <!--     Fonts and icons     -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css" />

    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    <link href="~/Content/assets/DIY/Css/fullcalendar.css" rel="stylesheet" />
    <!-- CSS Files -->
    <link href="~/Content/assets/DIY/Css/material-dashboard.css?v=2.1.1" rel="stylesheet" />
    <link href="~/Content/assets/DIY/Css/Guide.css" rel="stylesheet" />
    @*<link href="~/Content/assets/plugins/select2/dist/css/select2.min.css" rel="stylesheet" />*@
    @*<link href="~/Content/assets/plugins/select2-4.0.3/select2-4.0.3/dist/css/select2.min.css" rel="stylesheet" />*@

    @*<link href="~/Content/assets/plugins/select2-4.0.4/select2-4.0.4/dist/css/select2.min.css" rel="stylesheet" />*@
    <link href="~/Content/assets/plugins/select2-4.0.13/dist/css/select2.min.css" rel="stylesheet" />
    <!-- Date Picker Plugin JavaScript -->
    @*<link href="~/Content/assets/plugins/clockpicker/dist/bootstrap-clockpicker.css" rel="stylesheet" />*@
    <link href="~/Content/assets/plugins/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet" />
    <link href="~/Content/assets/plugins/owl.carousel/assets/owl.theme.default.css" rel="stylesheet" />
    <link href="~/Content/assets/DIY/Css/new_style.css" rel="stylesheet" />
    <!-- toast CSS -->
    <link href="/Content/assets/plugins/toast-master/css/jquery.toast.css" rel="stylesheet">
    <!-- sweet alert -->
    <link href="/Content/assets/plugins/sweetalert/sweetalert.css" rel="stylesheet" />
    <link href="~/Content/material/css/spinners.css" rel="stylesheet" />

    <link href="~/Content/assets/plugins/star-rating/star-rating/starrr.css" rel="stylesheet" />

    <link href="~/Content/RFP/Content/plugins/ionicons_css/ionicons.min.css" rel="stylesheet" />
    <!-- datepicker -->
    @*<link href="~/Content/RFP/Content/plugins/datepicker/datepicker3.css" rel="stylesheet" />*@
    @*<link href="~/Content/RFP/Content/plugins/ionslider/css/ion.RangeSlider.skinNice.css" rel="stylesheet" />*@
    <!-- Theme style -->
    <link href="~/Content/assets/plugins/icheck/skins/all.css" rel="stylesheet" />
    <!-- Ion Slider -->
    <link href="~/Content/RFP/Content/plugins/ionslider/css/ion.rangeSlider.css" rel="stylesheet" />
    @*<link href="~/Content/RFP/Content/dist/css/AdminLTE.min.css" rel="stylesheet" />
        <link href="~/Content/RFP/Content/dist/css/AdminLTE.customize.css" rel="stylesheet" />*@

    <style>
        #return-to-top {
            position: fixed;
            bottom: 80px;
            right: 29px;
            background: rgb(0, 0, 0);
            background: rgba(0, 0, 0, 0.7);
            width: 50px;
            height: 50px;
            display: block;
            text-decoration: none;
            -webkit-border-radius: 35px;
            -moz-border-radius: 35px;
            border-radius: 35px;
            display: none;
            -webkit-transition: all 0.3s linear;
            -moz-transition: all 0.3s ease;
            -ms-transition: all 0.3s ease;
            -o-transition: all 0.3s ease;
            transition: all 0.3s ease;
        }

        a#return-to-top {
            z-index: 100;
        }

        #return-to-top i {
            color: #fff;
            margin: 0;
            position: relative;
            left: 16px;
            top: 13px;
            font-size: 19px;
            -webkit-transition: all 0.3s ease;
            -moz-transition: all 0.3s ease;
            -ms-transition: all 0.3s ease;
            -o-transition: all 0.3s ease;
            transition: all 0.3s ease;
        }

        #return-to-top:hover {
            background: rgb(157, 27, 167);
        }

            #return-to-top:hover i {
                color: #fff;
                top: 5px;
            }


        .scroll_fixed .group-menu.diy-wizards {
            width: 200px;
            position: fixed;
            top: 10px;
        }

        .group-menu.diy-wizards {
            width: 200px;
            transition: all 0.4s ease-in-out 0s;
        }

        @@media (max-width:1400px) {
            .scroll_fixed .group-menu.diy-wizards {
                width: 140px;
            }

            .group-menu.diy-wizards {
                width: 140px;
            }
        }

        @@media (max-width:1024px) {
            .scroll_fixed .group-menu.diy-wizards {
                width: 110px;
            }

            .group-menu.diy-wizards {
                width: 110px;
            }
        }

        @@media (max-width:768px) {
            .scroll_fixed .group-menu.diy-wizards {
                width: 140px;
            }

            .group-menu.diy-wizards {
                width: 140px;
            }
        }

        .close {
            color: black !important;
        }

        .nav-subscription {
            text-align: center;
            margin-top: 20px;
        }

        .preloader {
            width: 100%;
            height: 100%;
            top: 0px;
            position: fixed;
            z-index: 99999;
            background: #fff;
        }

            .preloader .cssload-speeding-wheel {
                position: absolute;
                top: calc(50% - 3.5px);
                left: calc(50% - 3.5px);
            }

        .currency {
            background-color: white;
            position: relative;
            margin-bottom: 20px;
            padding-bottom: 0;
            height: 25px;
            padding-top: 5px;
            padding-bottom: 7px;
        }

        .goog-te-combo {
            height: 32px;
            margin-top: 3px;
        }

        .articulate {
            margin: 0px 9px 10px 0px;
            bottom: 20px;
            right: 20px;
            background: rgb(0, 0, 0);
            background: rgba(0, 0, 0, 0.7);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: block;
            text-decoration: none;
            -webkit-border-radius: 35px;
            -moz-border-radius: 35px;
            border-radius: 35px;
            -webkit-transition: all 0.3s linear;
            -moz-transition: all 0.3s ease;
            -o-transition: all 0.3s ease;
            transition: all 0.3s ease;
        }

            .articulate i {
                color: #fff;
                margin: 0;
                position: relative;
                left: 9px;
                top: 8px;
                font-size: 25px;
                -webkit-transition: all 0.3s ease;
                -moz-transition: all 0.3s ease;
                -o-transition: all 0.3s ease;
                transition: all 0.3s ease;
            }

            .articulate:hover {
                background: rgba(0, 0, 0, 0.9);
            }

                .articulate:hover i {
                    color: #fff;
                    top: 5px;
                }

        .dropzone .dz-preview.dz-error .dz-error-message {
            top: 150px !important;
        }

        input#expiry {
            border: 1px solid #dedede;
            padding: 0px 4px;
            color: #333333;
            width: 100%;
            font-family: 'Open sans';
            outline: none;
            text-align: center;
        }

        .countdown-timer {
            text-align: center;
            background: #082b41;
            font-family: sans-serif;
            font-weight: 100;
            color: #fff;
            max-width: 65%;
            max-height: 75%;
            margin: auto;
            padding: 4px;
            border-radius: 9px;
        }

        .info {
            background-color: #e7f3fe;
            border-left: 6px solid #2196F3;
            border-right: 6px solid #2196F3;
            border-radius: 3px;
        }

        span#acountdownTimer {
            font-weight: 600;
            color: red;
        }

        span#dcountdownTimer {
            font-weight: 600;
            color: red;
        }

        .thumbnail-preview img {
            max-width: 100% !important;
        }

        .tooltip.fade, .popover.fade {
            z-index: -1;
        }

        .tooltip.show, .popover.show {
            z-index: 1070;
        }
    </style>
    @RenderSection("prestyles", required: false)
    @RenderSection("styles", required: false)
    @RenderSection("prescripts", required: false)
    <style>
      @if (currentUser.LoginDMC > 0)
      {
          var colorSchema = DMCProfileModel.GetColorSchemaForDMC(currentUser.LoginDMC);
          if (!string.IsNullOrWhiteSpace(colorSchema))
          {

          @Html.Raw(colorSchema.Replace("&lt;","<").Replace("&gt;", ">"))
          }
      }

        .iti__country-list {
            z-index: 10;
        }

        @@media only screen and (max-width: 1440px) {
                .scroll_fixed .group-menu.diy-wizards {
                    top: 0!important;
                }
        }

        /** Added on Dec 25 2021 **/
        .content .card .buttons{
            overflow: auto;
        }
        
        .filter-event{
            overflow: hidden;
        }

        #articulate{
            margin: 0;
            width: 130px;
            color: #fff;
            text-align: center;
            border-radius: 5px;
           
            font-weight: 400;
            padding: 0.2rem;
        }

        #collapseGroup{
            margin: 0 0.5rem;
        }
        .articulate i{
            top: 4px;
        }

         #articulate:hover {
             background: linear-gradient(60deg, #808285, #808285);
             transition: all 0.3s;

         }

         
        /** Added on Feb 1 2021 ****/
         #takeguidetour{
            animation-name: change;
            animation-iteration-count: infinite;
            animation-duration: 2s;
            background-color: #1972BA;
            opacity: 1;
            margin-top: -0.5rem;
            padding: 0.8rem;
         }

        @@keyframes change {
             50%{
                background-color: #000;
                opacity: 0.5;
                margin-top: -1rem;
            }

            100%{
                background-color: #f84000;
                opacity: 0.9;
                margin-top: 0rem;
            }
        }

        .guides-guide{
            line-height: 32px;
        }

        .custom > li a{
            margin: 0!important;
            border-radius: 3px;
            color: #3C4858;
            padding-left: 0px!important;
            padding-right: 0px!important;
            text-transform: capitalize;
            font-size: 13px;
            padding: 0px!important;
        }

        @@media (max-width: 1024px){
         #takeguidetour{
             display: none;

         }
        }
    </style>

</head>
<body class="">
    <a href="javascript:" id="return-to-top"><i class="fa fa-arrow-up"></i></a>
    <div class="preloader">
        <svg class="circular" viewBox="25 25 50 50">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />
        </svg>
    </div>
    <div class="wrapper ">
        <div class="sidebar" data-color="purple" data-background-color="white" data-image="/Content/assets/DIY/images/sidebar-1.jpg">

            <!--
                Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"

                Tip 2: you can also add an image using data-image tag
            -->
            <div class="logo">
                @*<a href="#" class="simple-text logo-normal diy-logo">
                        <img src="assets/img/logo.png">
                    </a>*@
                @{
                    var logoPath = WebConfigValues.DMCLogo();
                }

                <img src='@(logoPath)' alt="homepage" style="max-width:100%;" />

            </div>
            <div class="g_lang">
                <div class="form-group">
                    <label>Select Language</label>
                    <div id="google_translate_element_1"></div>
                </div>
                <div class="form-group">
                    @Html.CurrencyDropdownList("CurrencySelect2", "", new { @class = "form-control currency" })
                </div>
            </div>

            <div class="user">
                <div class="photo">
                    @{

                        var imgUrl = WebConfigValues.StaticContentSiteUrl + "/uploadfiles/default_avatar.png";
                        if (!string.IsNullOrEmpty(currentUser.Avatar))
                        {
                            imgUrl = WebConfigValues.StaticContentSiteUrl + "/uploadfiles/" + currentUser.Avatar;
                        }
                    }
                    <img src="@imgUrl" alt="User Image">
                </div>
                <div class="user-info">
                    <a data-toggle="collapse" href="#collapseExample" class="username collapsed" aria-expanded="false">
                        <span class="nme">
                            @currentUser.DisplayName
                        </span>
                        <p class="text-muted">@currentUser.Name</p>
                        <b class="caret"></b>

                    </a>
                    <div class="collapse" id="collapseExample" style="">

                        <ul class="nav">
                            <li>
                                <a class="dropdown-item" href="/Profile/Index">View Profile</a>
                            </li>

                            <li>
                                <a class="dropdown-item" href="/UserAuth/LogOut">Log out</a>
                            </li>
                            @if (currentUser.Role.Contains(SharedLib.MemberRole.Role.FixedRole_Admin.Name.ToString()))
                            {
                                <li>
                                    <a class="btn btn-rounded btn-danger btn-sm" style="margin-top:10px" onclick="SwitchDMC()">Switch to Admin</a>
                                </li>
                            }

                        </ul>
                    </div>
                </div>
            </div>

            <div class="sidebar-wrapper">
                <ul class="nav">
                    <li class="navbar-form"></li>
                    @Html.RenderDIYNavigation(User.GetNav())
                </ul>
                <div class="nav-subscription">
                    @{
                        var currentDate = DateTime.Now;
                        var remainingdays = (expiryDate - new DateTime(currentDate.Year, currentDate.Month, currentDate.Day, 0, 0, 0)).Days;

                        var dmcInfo = new guestACCESS.Kernel.DMCManagement.DMC(currentUser.LoginDMC);
                        guestACCESS.Kernel.DMCManagement.DMCOption dmcOption = new guestACCESS.Kernel.DMCManagement.DMCOption(dmcInfo.ParentDMCId > 0 ? dmcInfo.ParentDMCId.Value : currentUser.LoginDMC);

                    }
                    @if (!dmcOption.DisableSubscription)
                    {
                        if (remainingdays > 0)
                        {
                            <div>Your Subscription will expire @(remainingdays) days</div>
                        }
                        else if (remainingdays == 0)
                        {
                            <div>Your subscription will expire today</div>
                        }
                        else
                        {
                            <div>Please subscribe package.</div>
                        }

                        @*@if (remainingdays < 30)
                            {*@
                        <div>
                            <a href="/admindomain/Subscription/Index" class="btn btn-sm btn-primary">Click here to Subscribe</a>
                        </div>
                        @*}*@
                        <br />
                    }
                </div>
            </div>
        </div>
        <div class="main-panel">

            <!-- Navbar -->
            <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top " id="navHeader">
                <div class="container-fluid">
                    <div class="navbar-wrapper">
                        <a class="navbar-brand" href="#pablo"> @ViewBag.Title</a>
                        <div class="row">
                            <div class="col-lg-12 col-sm-12 col-md-12">
                                <div class="row" style="max-width:1160px; margin-top:-6px; text-align:center">

                                    <div class="col-md-12">
                                        @if (ScheduledTransportDate != null)
                                        {

                                            <div class="info">
                                                <p>
                                                    <strong> Arrival and Departure scheduled will be valid for @dmcoption.TransportationScheduleTimeOut mins. Please Pay before the time runs out or scheduling will be cancelled. Scheduling will expire on :</strong>
                                                    <span id="countdownTimer"></span>
                                                </p>
                                            </div>
                                        }
                                    </div>


                                </div>

                            </div>

                        </div>


                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="navbar-toggler-icon icon-bar"></span>
                        <span class="navbar-toggler-icon icon-bar"></span>
                        <span class="navbar-toggler-icon icon-bar"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-end">
                        <div>
                            <button class="nav-link btn btn-sm" id="takeguidetour" type="button" onClick="change()" title="Take a Tour of a Page">Take a Tour</button>
                        </div>
                        <div class="form-group" id="collapseGroup">
                            <a id="articulate" class="articulate" data-placement="bottom">
                                Learn More
                                <i class="fa fa-question-circle-o" title="Click here to know about this page"></i>
                            </a>
                        </div>
                        <ul class="navbar-nav">
                            <li>
                                <div class="form-group">
                                    @Html.CurrencyDropdownList("CurrencySelect", "Currency", new { @class = "form-control currency" })
                                </div>
                            </li>
                            <li>
                                <div class="g_lang">
                                    <div class="form-group">
                                        <div id="google_translate_element_2"></div>
                                    </div>
                                </div>
                            </li>
                            <li class="nav-item dropdown user-avatar">
                                <a class="nav-link" href="#pablo" id="learn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <img src="@imgUrl">
                                    <p class="d-lg-none d-md-block">
                                        Account
                                    </p>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownProfile">
                                    <div class="dw-user-box">
                                        <div class="u-img">
                                            <img alt="User Image" src="@imgUrl">
                                        </div>
                                        <div class="u-text">
                                            <h4>  @currentUser.DisplayName</h4>
                                            <p class="text-muted">@currentUser.Name</p>
                                            <a href="/Profile/Index" class="btn btn-rounded btn-primary btn-sm">View Profile</a>
                                            @if (currentUser.Role.Contains(SharedLib.MemberRole.Role.FixedRole_Admin.Name.ToString()))
                                            {
                                                <a class="btn btn-rounded btn-danger btn-sm" style="margin-top:10px" onclick="SwitchDMC()">Switch to Admin</a>
                                            }
                                        </div>
                                    </div>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="/UserAuth/LogOut">Log out</a>
                                </div>
                            </li>
                        </ul>
                    </div>

                </div>
            </nav>
            <!-- End Navbar -->


            <div class="content">

                <div class="container-fluid">
                    <div class="container-fluid">
                        @RenderBody()
                    </div>
                </div><!--end content-->


            </div>
            <footer class="footer" id="footer">
                <div class="container-fluid">
                    <div class="copyright  float-left">
                        Copyright © 2011-@DateTime.Now.Year e-destinACCESS, Inc. US 12/319,111.
                        <div>
                            All Rights Reserved info@e-destinaccess.com
                        </div>
                    </div>

                    <div class="copyright float-right">
                        @{
                            Html.RenderPartial("_poweredBy");
                        }
                    </div>
                </div>
            </footer>
        </div>
    </div>


    <!--   Core JS Files   -->
    <script src="/Content/assets/plugins/jquery/jquery.min.js"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script src="/Content/assets/plugins/popper/popper.min.js"></script>
    <script src="~/Content/assets/DIY/Js/bootstrap.min.js"></script>
    <script src="~/Content/assets/DIY/js/core/bootstrap-material-design.min.js"></script>
    <script src="~/Content/assets/DIY/js/plugins/perfect-scrollbar.jquery.min.js"></script>
    <!-- Plugin for the momentJs  -->
    <script src="~/Content/assets/DIY/js/plugins/moment.min.js"></script>
    <script src="~/Content/assets/plugins/owl.carousel/owl.carousel.js"></script>
    @*<script src="~/Content/assets/plugins/glide-master/glide.min.js"></script>*@
    <script src="~/Content/assets/DIY/Js/plugins/fullcalendar.min.js"></script>
    <script src="~/Content/assets/DIY/js/plugins/jquery.bootstrap-wizard.js"></script>
    <!--	Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
    <script src="~/Content/assets/DIY/js/plugins/bootstrap-selectpicker.js"></script>
    <!--	Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  -->
    <script src="~/Content/assets/DIY/js/plugins/bootstrap-tagsinput.js"></script>
    <!-- Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
    <script src="~/Content/assets/DIY/js/plugins/jasny-bootstrap.min.js"></script>
    <!-- slimscrollbar scrollbar JavaScript -->
    <script src="/Content/material/js/jquery.slimscroll.js"></script>
    <!--Wave Effects -->
    <script src="/Content/material/js/waves.js"></script>
    <!--Menu sidebar -->
    <script src="/Content/material/js/sidebarmenu.js"></script>
    <!--stickey kit -->
    <script src="/Content/assets/plugins/sticky-kit-master/dist/sticky-kit.min.js"></script>
    <!--select2.js-->
    @*<script src="/Content/assets/plugins/select2/dist/js/select2.full.min.js" type="text/javascript"></script>*@
    @*<script src="~/Content/assets/plugins/select2-4.0.4/select2-4.0.4/dist/js/select2.full.min.js"></script>*@
    <script src="~/Content/assets/plugins/select2-4.0.13/dist/js/select2.full.min.js"></script>



    <!-- Date Picker Plugin JavaScript -->
    <script src="~/Content/assets/DIY/Js/plugins/bootstrap-datetimepicker.min.js"></script>
    <!-- Time Plugin JavaScript -->
    @*<script src="/Content/assets/plugins/clockpicker/dist/jquery-clockpicker.min.js"></script>*@
    <!-- Toast -->
    <script src="/Content/assets/plugins/toast-master/js/jquery.toast.js"></script>
    <!-- Sweet alert -->
    <script src="/Content/assets/plugins/sweetalert/sweetalert.min.js"></script>
    <!-- Jquery Validate -->
    <script src="/Content/assets/plugins/jquery-validation/jquery.validate.min.js"></script>
    <!-- Shared -->
    <script src="~/Content/assets/DIY/js/material-dashboard.js?v=2.1.2" type="text/javascript"></script>
    <script src="~/Content/Scripts/CurrencyConverter.js"></script>
    <script src="~/Content/Scripts/Shared.js"></script>
    <script src="~/Content/assets/DIY/Js/script.js"></script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <script src="~/Content/assets/plugins/jQuery-Articulate/articulate.js"></script>
    <script src="~/Content/Scripts/scheduleChecker.js"></script>
    <script src="~/Content/Scripts/guides.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.js"></script>
    <script src="~/Content/RFP/Content/plugins/ionslider/js_ion-rangeSlider/ion.rangeSlider.min.js"></script>
    <!-- jQuery validate -->
    @*<script src="~/Content/RFP/Content/plugins/datepicker/bootstrap-datepicker.js"></script>*@

    <script src="~/Content/assets/plugins/star-rating/star-rating/starrr.js"></script>
    <script src="~/Content/assets/plugins/icheck/icheck.min.js"></script>
    @*<script src="/Content/assets/plugins/jquery-validation/jquery.validate.min.js"></script>*@


    <!-- AdminLTE App -->

    <script src="~/Content/RFP/Content/dist/js/app.min.js"></script>
    <script type="text/javascript">
        function googleTranslateElementInit() {
            if ($(window).width() <= 800) {
                new google.translate.TranslateElement({ pageLanguage: 'en' }, 'google_translate_element_1');
            }
            else {
                new google.translate.TranslateElement({ pageLanguage: 'en' }, 'google_translate_element_2');
            }

        }
    </script>
    <script>
        function SwitchDMC() {
            $.ajax({
                type: 'POST',
                url: '@Url.Action("SwitchDMC", "UserAuth", new { area = "" })',
                data: { DMCId: '' },
                dataType: 'json',
                success: function (data, strStatus) {
                    if (data.Success)
                        if (data.Data) {
                            location.href = '/admindomain';
                        } else {
                            window.location.reload();
                        }
                    else
                        showMessage(data.Message);
                },
                error: handleAjaxError()
            });
        }
        $(document).ready(function () {

            $().ready(function () {
                $sidebar = $('.sidebar');
                $sidebar_img_container = $sidebar.find('.sidebar-background');
                $full_page = $('.full-page');
                $sidebar_responsive = $('body > .navbar-collapse');
                window_width = $(window).width();
                fixed_plugin_open = $('.sidebar .sidebar-wrapper .nav li.active a p').html();
                if (window_width > 767 && fixed_plugin_open == 'Dashboard') {
                    if ($('.fixed-plugin .dropdown').hasClass('show-dropdown')) {
                        $('.fixed-plugin .dropdown').addClass('open');
                    }
                }


                $('.fixed-plugin a').click(function (event) {
                    // Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active
                    if ($(this).hasClass('switch-trigger')) {
                        if (event.stopPropagation) {
                            event.stopPropagation();
                        } else if (window.event) {
                            window.event.cancelBubble = true;
                        }
                    }
                });



                $('.fixed-plugin .active-color span').click(function () {
                    $full_page_background = $('.full-page-background');

                    $(this).siblings().removeClass('active');
                    $(this).addClass('active');
                    var new_color = $(this).data('color');
                    if ($sidebar.length != 0) {
                        $sidebar.attr('data-color', new_color);
                    }
                    if ($full_page.length != 0) {
                        $full_page.attr('filter-color', new_color);
                    }

                    if ($sidebar_responsive.length != 0) {
                        $sidebar_responsive.attr('data-color', new_color);
                    }
                });

                $('.fixed-plugin .background-color .badge').click(function () {
                    $(this).siblings().removeClass('active');
                    $(this).addClass('active');
                    var new_color = $(this).data('background-color');
                    if ($sidebar.length != 0) {
                        $sidebar.attr('data-background-color', new_color);
                    }
                });
                $('.fixed-plugin .img-holder').click(function () {
                    $full_page_background = $('.full-page-background');
                    $(this).parent('li').siblings().removeClass('active');
                    $(this).parent('li').addClass('active');
                    var new_image = $(this).find("img").attr('src');
                    if ($sidebar_img_container.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
                        $sidebar_img_container.fadeOut('fast', function () {
                            $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
                            $sidebar_img_container.fadeIn('fast');
                        });
                    }
                    if ($full_page_background.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
                        var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');
                        $full_page_background.fadeOut('fast', function () {
                            $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
                            $full_page_background.fadeIn('fast');
                        });
                    }
                    if ($('.switch-sidebar-image input:checked').length == 0) {
                        var new_image = $('.fixed-plugin li.active .img-holder').find("img").attr('src');
                        var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');
                        $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
                        $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
                    }
                    if ($sidebar_responsive.length != 0) {
                        $sidebar_responsive.css('background-image', 'url("' + new_image + '")');
                    }
                });

                $('.switch-sidebar-image input').change(function () {
                    $full_page_background = $('.full-page-background');
                    $input = $(this);
                    if ($input.is(':checked')) {
                        if ($sidebar_img_container.length != 0) {
                            $sidebar_img_container.fadeIn('fast');
                            $sidebar.attr('data-image', '#');
                        }
                        if ($full_page_background.length != 0) {
                            $full_page_background.fadeIn('fast');
                            $full_page.attr('data-image', '#');
                        }
                        background_image = true;
                    } else {
                        if ($sidebar_img_container.length != 0) {
                            $sidebar.removeAttr('data-image');
                            $sidebar_img_container.fadeOut('fast');
                        }
                        if ($full_page_background.length != 0) {
                            $full_page.removeAttr('data-image', '#');
                            $full_page_background.fadeOut('fast');
                        }
                        background_image = false;
                    }
                });

                $('.switch-sidebar-mini input').change(function () {
                    $body = $('body');
                    $input = $(this);
                    if (md.misc.sidebar_mini_active == true) {
                        $('body').removeClass('sidebar-mini');
                        md.misc.sidebar_mini_active = false;
                        $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar();

                    } else {
                        $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar('destroy');
                        setTimeout(function () {
                            $('body').addClass('sidebar-mini');
                            md.misc.sidebar_mini_active = true;
                        }, 300);
                    }
                    // we simulate the window Resize so the charts will get updated in realtime.
                    var simulateWindowResize = setInterval(function () {
                        window.dispatchEvent(new Event('resize'));
                    }, 180);
                    // we stop the simulation of Window Resize after the animations are completed
                    setTimeout(function () {
                        clearInterval(simulateWindowResize);
                    }, 1000);

                });
            });

            $("#CurrencySelect, #CurrencySelect2").change(function () {
                var val = $(this).val();
                var cc = new CurrencyConverter();
                cc.setDefaultCurrency(val);
            });

            scheduleCheck(@scheduleJsonData);
        });
    </script>
    <!--Start of Tawk.to Script-->
    <script type="text/javascript">
        var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
        (function () {
            var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
            s1.async = true;
            s1.src = 'https://embed.tawk.to/5dd6d29443be710e1d1e810c/default';
            s1.charset = 'UTF-8';
            s1.setAttribute('crossorigin', '*');
            s0.parentNode.insertBefore(s1, s0);
        })();
    </script>
    <script>
        $('#return-to-top').click(function () {
            $('.main-panel').scrollTop(0);
            $('.main-panel').perfectScrollbar('update');
        });
    </script>
    <!--End of Tawk.to Script-->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-36251023-1']);
        _gaq.push(['_setDomainName', 'jqueryscript.net']);
        _gaq.push(['_trackPageview']);

        (function () {

            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>


    <script>
        var popupElement = 'Please click on play to know more about the page. </br>' +
            '<div class="btn-group btn-toggle"style="float:right;" >' +
            '<button class="btn btn-sm btn-primary" id ="play"> START</button >' +
            ' <button id="stop" class="btn btn-sm btn-danger active">Stop</button>' +
            '<button class="btn btn-sm btn-primary" id ="playvideo" hidden> Play Video</button ></div > ';


        if ($('div .html-code .popup-youtube').attr('href') != "") {
            popupElement = popupElement.replace("hidden", "");
            $('#articulate').popover({
                animation: true,
                content: popupElement,
                html: true
            });
        }
        else {
            $('#articulate').popover({
                animation: true,
                content: popupElement,
                html: true
            });
        }

        $('body').on('click', '.btn-toggle >#play', function () {
            $('div.article').articulate('speak');
        });
        $('body').on('click', '.btn-toggle >#stop', function () {
            $().articulate('stop');
        });

        $('body').on('click', '.btn-toggle >#playvideo', function () {
            $('#articulate').click();
            $('div .html-code .popup-youtube').magnificPopup({
                disableOn: 700,
                type: 'iframe',
                iframe: {
                    patterns: {
                        youtube: {
                            index: 'youtube.com/',
                            id: 'v=',
                            src: $('div .html-code .popup-youtube').attr('href'),
                        },
                    },
                    srcAction: 'iframe_src',
                },
                mainClass: 'mfp-fade',
                removalDelay: 160,
                preloader: false,
                fixedContentPos: false
            }).click();

        });


        setTimeout(function () {
            initSelect2($("#CurrencySelect"));
            initSelect2($("#CurrencySelect2"));
            initSelect2($("#FormContent_CurrencySelect"));
        }, 2000);
    </script>

    <!--- Script for Dynamic Min Height Js ----->
    <!--- Added on Dec 20 2021 ------>
    <script>
        try {
            var h = window.innerHeight
            console.log(h)
            result = document.getElementById("card-wrapper")

            footerHeight = document.getElementById("footer").style.height = 300
            navHeader = document.getElementById("navHeader").style.height = 100
            console.log(footerHeight)

            const finalHeaderFooter = footerHeight + navHeader
            console.log(finalHeaderFooter)

            const finalResult = h - finalHeaderFooter
            console.log(finalResult)
            const resultStr = finalResult + "px"
            console.log("This is resultStr---->", resultStr)

            const demo = document.getElementById("card-wrapper")
            const styles = {
                minHeight: resultStr
            }
            console.log(styles)

            Object.assign(demo.style, styles)

            footerHeight2 = footerHeight + "px"
            navHeader2 = navHeader + "px"
            console.log(footerHeight2)
            footerHeight = document.getElementById("footer").style.minHeight = "80px"
            navHeader = document.getElementById("navHeader").style.minHeight = navHeader2
        }
        catch (e) {
            console.log(e)
        }

        @* function change(){
            document.getElementById('calendarHide').style.padding = "0.5rem";
        } *@
    </script>

    @RenderSection("scripts", required: false)
    @Html.Partial("_GoogleAnalytic")
</body>
</html>

